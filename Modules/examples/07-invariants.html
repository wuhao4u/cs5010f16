<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<link type="text/css" rel="stylesheet" href="../../css/course.css">
<title>Exercises with invariants</title>
</head>

<body>
<h1>Exercises with invariants</h1>

<p>For these exercises, remember that your purpose statement,
including its invariant, is at least as important as your function
definition.</p>

<p>When you are called on, please copy your solution into one of the
following pages:
</p>

<ul class="condensed">
  <li><a href="https://bitly.com/cs5010f14-solutions-1"
  >solutions-1</a></li> 

  <li><a href="https://bitly.com/cs5010f14-solutions-2"
  >solutions-2</a></li> 

</ul>

<ol>
  <li>Consider the following constructor template for binary trees:

<pre>
A Bintree is one of
-- (make-leaf-node Number)
-- (make-tree-node Number Bintree Bintree)
</pre>

<p>  First, complete the data definition for Bintree by writing the struct
  definitions and the observer template.
</p>


<p>  Then, design a function called <kbd>tree-with-sums-in-leaves</kbd>
  which, given a Bintree, returns a Bintree like the original, except
  that each leaf node is replaced by the sum of all the numbers on the
  path from the root to the leaf.</p>

  <pre>
Example:
#(struct:tree-node 3
   #(struct:tree-node 4
      #(struct:leaf-node 5)
      #(struct:leaf-node 10))
   #(struct:leaf-node 2))

=>

#(struct:tree-node 3
   #(struct:tree-node 4
      #(struct:leaf-node 12)   ; 3 + 4 + 5 = 12
      #(struct:leaf-node 17))  ; 3 + 4 + 10 = 17
   #(struct:leaf-node 5))      ; 3 + 2 = 5
  </pre>

    <p>You'll need a help function.  Make sure you give a suitable
  contract, purpose statement, and invariants both for
  <kbd>tree-with-sums-in-leaves</kbd> and for your help function.</p>
  
  </li>

<!--   <li>Do the same thing, except the data is defined by: -->

<!--   <pre> -->
<!-- A Bintree is one of -->
<!-- -- Number -->
<!-- -- (list Number Bintree Bintree) -->
<!-- </pre> -->

<!-- <p>Here we are using a list in place of a struct. -->
<!--   In this representation, the tree in the example above would be -->
<!--   represented (in <kbd>write</kbd> output mode) by:</p> -->

<!--   <pre> -->
<!-- (3 -->
<!--   (4 12 17) -->
<!--   5) -->
<!-- </pre> -->

<!-- </li> -->

  <li>Do the same thing, except for the data type defined by the
  constructor template

  <pre>
A Tree is a
-- (make-tree Number ListOfTree)   

A ListOfTree is one of
-- empty
-- (cons Tree ListOfTree)
</pre>
  For these trees, we define a leaf to be a tree with an empty list of
  daughters. 
  </li>

  <li>You are writing code for a navigation program.  You are to write
  a function called <kbd>distances-so-far</kbd> which, given a list of
  point-to-point distances, produces a list of distances to be
  displayed as "distance travelled so far"

  <pre>
EXAMPLE: Say there are 4 points on the route, called A, B, C, and D.
D is the destination.  The distance from A to B is 10, from B to C is
2, and from C to D is 5.  For this route, the input to your function
is the list
(10 2 5)
and your function should return the list
(0 10 12 17)
</pre>

  <p>As before, make sure you give a suitable contract, purpose
  statement, and invariants both for <kbd>distances-so-far</kbd> and
  for your help function.</p>

  </li>

  <li>You are writing the code for sending data back from the Pluto
  rover.  The data consists of a list of integers, but the data
  contains many runs of identical values.  So rather than sending a
  list with 365 consecutive zeros, you'd like to send a single message
  saying "insert 365 zeros here".   Here's a more detailed
  specification:

  <pre>
;; A Count is a Positive Integer

(define-struct rep (value count))
;; A Rep is a (make-rep Integer Count)
;; (rep v c) represents the list (v v v v v ..)  c copies of v

;; compress : ListOfInteger -> ListOfRep
;; Compresses the given input by replacing each run of consecutive v's
;; by (rep v k)

;; EXAMPLES:
;; () => ()
;; (30 30 20 20 20 20 50 30 30) =>
;;  (list (make-rep 30 2) (make-rep 20 4) (make-rep 50 1) (make-rep 30 2))
</pre>

  <p>You'll need a help function.  Make sure you give a suitable
  contract, purpose statement, and invariants for your help function.</p>

</li>


</ol>


<hr>
<address></address>
<font size=-1>
<p align=right>
<!-- hhmts start -->
Last modified: Tue Oct 25 21:06:46 Eastern Daylight Time 2016 <!-- hhmts end -->
</body> </html>
